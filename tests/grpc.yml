name: gRPC TLS Tests
vars:
  serviceHost: "localhost:50051"

testcases:

  - name: Greeter TLS Success
    steps:
      -
        type: grpc
        url: localhost:50051
        # plaintext: false
        service: Greeter
        method: SayHello
        data:
          name: "John Adams"
        ignore_verify_ssl: true
        tls_root_ca: grpc/pki/ca.crt
        tls_client_cert: grpc/pki/client.crt
        tls_client_key: grpc/pki/client.key
        assertions:
          - result.err ShouldBeEmpty
          - result.code ShouldEqual 0
          - result.systemoutjson.message ShouldNotBeEmpty
